(this.webpackJsonpbooks=this.webpackJsonpbooks||[]).push([[0],{17:function(e,t,a){e.exports=a(40)},40:function(e,t,a){"use strict";a.r(t);a(18);var n=a(0),l=a.n(n),r=a(14),c=a.n(r);var o=function(){return l.a.createElement("div",{className:"container-fluid p-2 bg-dark mb-4"},l.a.createElement("h2",{className:"text-light"},"Books"))},s=a(16),i=a(2);var m=function(e){var t=e.handleSearchInput,a=e.searchBooks,n=e.handleSort;return l.a.createElement("div",{className:"container w-50 mb-5"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-8"},l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{type:"text",onChange:t,onKeyUp:function(e){"Enter"===e.key&&a()},className:"form-control"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-primary",onClick:a},"Search")))),l.a.createElement("div",{className:"col-4"},l.a.createElement("div",{className:"input-group"},l.a.createElement("select",{className:"custom-select",defaultValue:"sort",onChange:n},l.a.createElement("option",{disabled:!0,value:"sort"},"Sort"),l.a.createElement("option",{value:"newest"},"Newest"),l.a.createElement("option",{value:"oldest"},"Oldest"))))))},u=a(15),d=a.n(u);var p=function(e){var t,a,n,r=e.book;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-2"},(n=r.thumbnail)?l.a.createElement("img",{src:n,className:"img-fluid",alt:"Image Not Available"}):l.a.createElement("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSXB4H7zcUL8kHWZseJueSBsiOAAPGJK63-kQ&usqp=CAU",className:"img-fluid",alt:"Image Not Available"})),l.a.createElement("div",{className:"col-10 text-left"},(a=r.title)?l.a.createElement("a",{className:"font-weight-bold my-1",href:r.infoLink,target:"_blank",rel:"noreferrer"},a):l.a.createElement("p",{className:"text-muted font-italic my-1"},"title not available"),function(e){if(e){var t=e.reduce((function(e,t){return e+t+", "}),"").slice(0,-2);return l.a.createElement("p",{className:"my-1"},"by "+t)}return l.a.createElement("p",{className:"text-muted font-italic my-1"},"author info not available")}(r.authors),"0"!==(t=r.publishedDate)?l.a.createElement("p",{className:"my-1"},"published "+t):l.a.createElement("p",{className:"text-muted font-italic my-1"},"publish date not available"))))};var b=function(e){var t=e.currentPage,a=e.maxPage,n=e.paginate;return l.a.createElement("nav",{"aria-label":"Page navigation"},l.a.createElement("ul",{className:"pagination justify-content-center"},1!==t&&l.a.createElement("li",{className:"page-item"},l.a.createElement("a",{onClick:function(){return n(t-1)},href:"#",className:"page-link","aria-label":"Previous"},l.a.createElement("span",null,"Prev"))),l.a.createElement("li",{className:"page-item"},l.a.createElement("a",{className:"page-link",href:"#"},t)),t!==a&&l.a.createElement("li",{className:"page-item"},l.a.createElement("a",{onClick:function(){return n(t+1)},href:"#",className:"page-link","aria-label":"Next"},l.a.createElement("span",null,"Next")))))};var f=function(e){var t=e.currentPage,a=e.totalResults;return l.a.createElement("div",{className:"border-bottom text-left"},l.a.createElement("span",null,"Page ".concat(t," of about ").concat(a," results")))};var v=function(e){var t=e.books,a=e.currentPage,n=e.maxPage,r=e.totalResults,c=e.paginate;return l.a.createElement("div",{className:"container"},0!==a&&l.a.createElement(f,{currentPage:a,totalResults:r}),l.a.createElement("div",{className:"row row-cols-1"},t.map((function(e){return l.a.createElement("div",{key:e.id,className:"col my-2 border-bottom p-2"},l.a.createElement(p,{book:e}))}))),0!==a&&l.a.createElement(b,{currentPage:a,maxPage:n,paginate:c}))};var h=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(i.a)(c,2),u=o[0],p=o[1],b=Object(n.useState)(""),f=Object(i.a)(b,2),h=f[0],g=f[1],E=Object(n.useState)("initial"),N=Object(i.a)(E,2),k=N[0],w=N[1],O=Object(n.useState)(0),I=Object(i.a)(O,2),y=I[0],P=I[1],j=Object(n.useState)(0),x=Object(i.a)(j,2),S=x[0],D=x[1],A=Object(n.useState)(0),B=Object(i.a)(A,2),C=B[0],L=B[1];function R(){d.a.get("https://www.googleapis.com/books/v1/volumes",{params:{q:h,startIndex:20*(C-1),maxResults:20}}).then((function(e){if(console.log(e.data),0===e.data.totalItems)return p([]),void r(!0);r(!1),P(e.data.totalItems),D(Math.ceil(e.data.totalItems/20));var t=e.data.items.map((function(e){var t={infoLink:e.volumeInfo.infoLink,id:e.id,thumbnail:"",title:"",publishedDate:"",authors:[]};return!1===e.volumeInfo.hasOwnProperty("imageLinks")?t.thumbnail=null:t.thumbnail=e.volumeInfo.imageLinks.thumbnail,!1===e.volumeInfo.hasOwnProperty("title")?t.title=null:t.title=e.volumeInfo.title,!1===e.volumeInfo.hasOwnProperty("publishedDate")?t.publishedDate="0":t.publishedDate=e.volumeInfo.publishedDate.substring(0,4),!1===e.volumeInfo.hasOwnProperty("authors")?t.authors=null:t.authors=e.volumeInfo.authors,t}));p(t)})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){p((function(e){return e.sort((function(e,t){return"newest"===k?parseInt(t.publishedDate)-parseInt(e.publishedDate):"oldest"===k?parseInt(e.publishedDate)-parseInt(t.publishedDate):void 0})),Object(s.a)(e)}))}),[k]),Object(n.useEffect)((function(){0!==C&&R()}),[C]),l.a.createElement("div",{className:"container"},l.a.createElement(m,{handleSearchInput:function(e){g(e.target.value)},searchBooks:function(){1!==C?L(1):R()},handleSort:function(e){console.log(e.target.value),w(e.target.value)}}),a?l.a.createElement("p",null,"no results found"):l.a.createElement(v,{books:u,currentPage:C,maxPage:S,totalResults:y,paginate:function(e){L(e)}}))};var g=function(){return l.a.createElement("div",{className:"container-fluid text-center mb-5 px-0"},l.a.createElement(o,null),l.a.createElement(h,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.9f39bee0.chunk.js.map